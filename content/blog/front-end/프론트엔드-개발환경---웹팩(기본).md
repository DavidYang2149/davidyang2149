---
title: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œí™˜ê²½ - ì›¹íŒ©(ê¸°ë³¸)
date: 2020-09-08 10:09:08
category: front-end
thumbnail: './images/200908-webpack-icon.png'
draft: true
---

![](./images/200908-webpack-icon.png)

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œí™˜ê²½ - ì›¹íŒ©(ê¸°ë³¸)

> `ì •ë³´` : [**ê¹€ì •í™˜**](https://jeonghwan-kim.github.io/series/2019/12/10/frontend-dev-env-webpack-basic.html)ë‹˜ì˜ [í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œí™˜ê²½ì˜ ì´í•´ì™€ ì‹¤ìŠµ](https://www.inflearn.com/course/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD)ì„ ê³µë¶€í•˜ê³  ì •ë¦¬í•œ ë‚´ìš©.

# 1. ë°°ê²½ ğŸš€

Javascriptë¡œ ê°œë°œì„ í•  ë•Œ ëª¨ë“ˆì˜ í•„ìš”ì„±ê³¼ í•œê³„ê°€ ë‚˜íƒ€ë‚˜ê³  ê·¸ì— ë”°ë¼ ì›¹íŒ©(Webpack)ì´ ë“±ì¥í•˜ê²Œ ë˜ì—ˆë‹¤.

```js{}
function sum(a, b) {
  return a + b;
} // ì „ì—­ ê³µê°„ì— sumì´ ë…¸ì¶œ

sum(1, 2); // ê²°ê³¼ëŠ” 3

sum = 3;
sum(1, 2); // Uncaught TypeError: sum is not a function
```

ìƒë‹¨ì²˜ëŸ¼ ì „ì—­(Global)ì—ì„œ ì„¤ì •ëœ ë³€ìˆ˜ì˜ ë‚´ìš©ì´ ì„ì˜ë¡œ ë³€í•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•œ ë°©ë²•ì´ í•„ìš”í–ˆë‹¤.

## 1.1. IIFE ë°©ì‹ì˜ ëª¨ë“ˆ

[IIFE](https://developer.mozilla.org/ko/docs/Glossary/IIFE)(ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ í‘œí˜„)ëŠ” ì¦‰ì‹œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì„ ë§‰ëŠ” í•¨ìˆ˜ì´ë‹¤.

```js{}
var math = math || {}; // math ë„¤ì„ìŠ¤í˜ì´ìŠ¤

(function () {
  function sum(a, b) {
    return a + b;
  }
  math.sum = sum; // ë„¤ì´ìŠ¤í˜ì´ìŠ¤ì— ì¶”ê°€
})();

math.sum(1, 2); // ê²°ê³¼ëŠ” 3

sum(1, 2); // Uncaught TypeError: sum is not a function
```

## 1.2. ë‹¤ì–‘í•œ ëª¨ë“ˆ ìŠ¤í™

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ëª¨ë“ˆì„ êµ¬í˜„í•˜ëŠ” ëŒ€í‘œì ì¸ ëª…ì„¸ëŠ” [AMD](https://github.com/amdjs/amdjs-api/wiki/AMD)ì™€ [CommonJS](http://www.commonjs.org)ê°€ ìˆë‹¤.

ê·¸ë¦¬ê³  ES2015ì—ì„œ [í‘œì¤€ ëª¨ë“ˆ ì‹œìŠ¤í…œ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import)ì´ ë‚˜ì˜¤ê²Œ ë˜ì—ˆë‹¤.

./math.js

```js{}
export function sum(a, b) {
  return a + b;
}
```

./app.js

```js{}
import * as math from './math.js';
math.sum(1, 2); // 3
```

ë¬¸ì œëŠ” ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì´ ëª¨ë“ˆ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤ ğŸ˜±.

# 2. ì›¹íŒ©(Webpack) ğŸ“¦

ì›¹íŒ©ì€ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì„ í•˜ë‚˜ë¡œ í•©ì³ì£¼ëŠ” ë²ˆë“¤ëŸ¬(bundler)ë‹¤.

ê·¸ëŸ¼ webpackì„ ì„¤ì¹˜í•´ë³´ì.

```sh{}
$ npm install -D webpack webpack-cli
```

webpackì„ ì„¤ì¹˜í•œ í›„ì— ì˜µì…˜ì„ ë³´ì.

```sh{}
# node_modules/.bin/webpack --helpë¥¼ ì…ë ¥í•˜ë©´ ì •ë³´ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.
$ node_modules/.bin/webpack --help

  --mode                 Enable production optimizations or development hints.
                                     [ì„ íƒ: "development", "production", "none"]
  --entry      The entry point(s) of the compilation.                   [ë¬¸ìì—´]
  --output, -o                  The output path and file for compilation assets
```

ì—¬ê¸°ì„œ `--mode`, `--entry`, `--output` ì„¸ ê°œ ì˜µì…˜ë§Œ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ë¬¶ì„ ìˆ˜ ìˆë‹¤.

```sh{}
$ node_modules/.bin/webpack --mode development --entry ./src/app.js --output dist/main.js
```

- `--mode`ëŠ” ì›¹íŒ© ì‹¤í–‰ ëª¨ë“œëŠ” ì˜ë¯¸í•˜ëŠ”ë° ê°œë°œ ë²„ì „ì¸ developmentë¥¼ ì§€ì •í•œë‹¤.
- `--entry`ëŠ” ì‹œì‘ì  ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤.
- `--output`ì€ ë²ˆë“¤ë§ ê²°ê³¼ë¬¼ì„ ìœ„ì¹˜í•  ê²½ë¡œë‹¤.

ìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ dist/main.jsì— ë²ˆë“¤ëœ ê²°ê³¼ê°€ ì €ì¥ëœë‹¤.

```sh{}
> lecture-frontend-dev-env@1.0.0 build /Users/davidyang/Documents/lecture-frontend-dev-env
> webpack

Hash: 5610665b6c989a4f05ee
Version: webpack 4.44.1
Time: 97ms
Built at: 2020-09-08 16:04:38
  Asset      Size  Chunks             Chunk Names
main.js  19.9 KiB    main  [emitted]  main
Entrypoint main = main.js
[./src/app.js] 145 bytes {main} [built]
```

ê·¸ë¦¬ê³  index.htmlì— ë¡œë”©í•˜ë©´ ë²ˆë“¤ë§ì˜ ê²°ê³¼ì™€ ë™ì¼í•˜ê²Œ ëœë‹¤.

```html{}
<script src="dist/main.js"></script>
```

ë˜í•œ `webpack.config.js`ë¥¼ ìƒì„±í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js{}
const path = require('path');

module.exports = {
  mode: 'development',
  entry: {
    main: './src/app.js',
  },
  output: {
    filename: '[name].js',
    path: path.resolve('./dist'),
  },
};
```

ê·¸ë¦¬ê³  `package.json`ì— ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•œë‹¤.

```json{}
{
  "scripts": {
    "build": "./node_modules/.bin/webpack"
    //"build": "webpack" // ì´ë ‡ê²Œ í•´ë„ ëœë‹¤.
  }
}
```

ì´ì œ í„°ë¯¸ë„ì— **npm run build**ë¡œ webpackì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

```sh{}
$ npm run build
```

ì´í›„ ë§ˆì°¬ê°€ì§€ë¡œ index.htmlì— ë¡œë”©í•˜ë©´ ëœë‹¤.

# 3. ë¡œë” ğŸ”‹

ì›¹íŒ©ì€ ëª¨ë“  íŒŒì¼ì„ ëª¨ë“ˆë¡œ ê´€ë¦¬í•˜ëŠ”ë° ì´ë¯¸ì§€, í°íŠ¸, ìŠ¤íƒ€ì¼ì‹œíŠ¸ë„ ëª¨ë‘ ëª¨ë“ˆë¡œ ê´€ë¦¬í•œë‹¤.

ì›¹íŒ©ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°–ì— ì¸ì‹í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì´ë¯¸ì§€, í°íŠ¸, ìŠ¤íƒ€ì¼ì‹œíŠ¸ë¥¼ ì›¹íŒ©ì´ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½ì‹œì¼œì•¼ í•œë‹¤.

ë¡œë”ê°€ ë°”ë¡œ ì´ ì—­í• ì„ í•œë‹¤.

## 3.1. ë¡œë”ì˜ ì—­í• 

ë¡œë”ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê°™ì€ ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ìœ¼ë¡œ ë³€í™˜í•´ ì£¼ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ data URL í˜•ì‹ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.

ë¿ë§Œì•„ë‹ˆë¼ CSS íŒŒì¼ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì§ì ‘ ë¡œë”©í• ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.

## 3.2. ì»¤ìŠ¤í…€ ë¡œë” ë§Œë“¤ê¸°

ì»¤ìŠ¤í…€ìœ¼ë¡œ ë¡œë”ë¥¼ ë§Œë“¤ì–´ ë³´ì.

./myloader.js

```js{}
module.exports = function myloader(content) {
  console.log('myloader í…ŒìŠ¤íŠ¸');
  return content;
};
```

ì»¤ìŠ¤í…€ ë¡œë”ë¥¼ ì œì‘í•œ í›„ì— ì›¹íŒ© ì„¤ì •íŒŒì¼ì˜ module ê°ì²´ì— ì¶”ê°€í•œë‹¤.

./webpack.config.js

```js{}
module: {
  rules: [{
    test: /\.js$/, // .js í™•ì¥ìë¡œ ëë‚˜ëŠ” ëª¨ë“  íŒŒì¼.
    use: [path.resolve('./myloader.js')] // ë°©ê¸ˆ ë§Œë“  ë¡œë”ë¥¼ ì ìš©í•œë‹¤.
  }],
}
```

module.rules ë°°ì—´ì— ëª¨ë“ˆì„ ì¶”ê°€í•˜ëŠ”ë° testì™€ useë¡œ êµ¬ì„±ëœ ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤.

testì—ëŠ” ë¡œë”©ì— ì ìš©í•  íŒŒì¼ì„ ì§€ì •í•œë‹¤.

useì—ëŠ” íŒ¨í„´ì— í•´ë‹¹í•˜ëŠ” íŒŒì¼ì— ì ìš©í•  ë¡œë”ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ ë°©ê¸ˆ ë§Œë“  myloader í•¨ìˆ˜ì˜ ê²½ë¡œë¥¼ ì§€ì •í•œë‹¤.

`npm run build`ì„ ì‹¤í–‰í•´ë³´ì.

```sh{}
$ npm run build

> lecture-frontend-dev-env@1.0.0 build /Users/davidyang/Documents/lecture-frontend-dev-env
> webpack

myloader í…ŒìŠ¤íŠ¸
Hash: 5610665b6c989a4f05ee
Version: webpack 4.44.1
Time: 115ms
Built at: 2020-09-09 23:16:09
  Asset      Size  Chunks             Chunk Names
main.js  19.9 KiB    main  [emitted]  main
Entrypoint main = main.js
[./src/app.js] 145 bytes {main} [built]
```

í„°ë¯¸ë„ì— myloader í…ŒìŠ¤íŠ¸' ë¬¸ìì—´ì´ ì°íŒë‹¤.

myloader() í•¨ìˆ˜ê°€ ë™ì‘í–ˆë‹¤.

# 4. ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¡œë”

ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¡œë”ë¥¼ í™•ì¸í•´ë³´ì.

## 4.1. css-loader

ì›¹íŒ©ì— css-loaderë¥¼ ì¶”ê°€í•˜ì—¬ ëª¨ë“ˆë¡œ ë³€í™˜í•œë‹¤.

./app.js

```js{}
import './style.css';
```

./style.css

```css{}
body {
  background-color: green;
}
```

CSS íŒŒì¼ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ CSSë¥¼ ëª¨ë“ˆë¡œ ë³€í™˜í•´ë³´ì.

css-loaderë¥¼ ì„¤ì¹˜í•˜ì.

```sh{}
npm install -D css-loader
```

ì›¹íŒ© ì„¤ì •ì— ë¡œë”ë¥¼ ì¶”ê°€í•œë‹¤.

./webpack.config.js:

```js{}
module.exports = {
  module: {
    rules: [
      {
        test: /\.css\$/, // .css í™•ì¥ìë¡œ ëë‚˜ëŠ” ëª¨ë“  íŒŒì¼.
        use: ['css-loader'], // css-loaderë¥¼ ì ìš©í•œë‹¤.
      },
    ],
  },
};
```

ì´ì œ ì›¹íŒ©ì€ ëª¨ë“ˆì„ ê²€ìƒ‰í•˜ë‹¤ê°€ CSS íŒŒì¼ì„ ì°¾ìœ¼ë©´ css-loaderë¡œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.

use.loaderì— ë¡œë” ê²½ë¡œë¥¼ ì„¤ì •í•˜ëŠ” ëŒ€ì‹  ë°°ì—´ì— ë¡œë” ì´ë¦„ì„ ë¬¸ìì—´ë¡œ ì „ë‹¬í•´ë„ ëœë‹¤.

ì´ì œ `npm run build`ë¥¼ í•˜ë©´ CSSê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í™˜ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## 4.2. style-loader

## 4.3. file-loader

## 4.4. url-loader

# 5. í”ŒëŸ¬ê·¸ì¸

## 5.1. í”ŒëŸ¬ê·¸ì¸ì˜ ì—­í• 

## 5.2. ì»¤ìŠ¤í…€ í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸°

# 6. ìì£¼ ì‚¬ìš©í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸

## 6.1. BannerPlugin

## 6.2. DefinePlugin

## 6.3. HtmlWebpackPlugin

## 6.4. CleanWebpackPlugin

## 6.5. MiniCssExtractPlugin

# 7. ì°¸ì¡° ğŸ“‹

- [ê¹€ì •í™˜ë‹˜ ë¸”ë¡œê·¸](https://jeonghwan-kim.github.io/series/2019/12/10/frontend-dev-env-webpack-basic.html)
- [ì¸í”„ëŸ° - í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œí™˜ê²½ì˜ ì´í•´ì™€ ì‹¤ìŠµ](https://www.inflearn.com/course/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD)

ğŸ‘‹
